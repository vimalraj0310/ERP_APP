function a0_0x9a41(){const _0x2f51e1=['7334916GIWXxv','202089pzAPtm','sheet_to_json',',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22content\x22>','password','error','<br/>Granules</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','/docdestruction','Password\x20Forgot\x20Success','hash','/VehicleMasterHistoryReport','Server\x20is\x20connected\x20','VNMid','\x27,\x27\x27,\x27','\x27\x20,\x27','Count','\x27,\x20\x27','bodyContent1','100mb','</strong></p>\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22content\x22>','SELECT\x20branchid,employeename\x20FROM\x20UserMainMaster\x20WHERE\x20employeecode\x20=\x20\x27','Data\x20uploaded\x20successfully','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22content\x22>','send','Error\x20sending\x20email:','/UserMainmasterRegister','urlencoded','NASH@123','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22content\x22><strong>','User\x20code\x20not\x20found','6282355hgFFLF','rowsAffected','/download/unuploaded_User_data.xlsx','exec\x20sp_BranchMaster\x20\x27','Model','setHours','exec\x20DashbordModelData\x20\x27','createTransport','bodyFooter','RFID','useroleid','Screenid','get','body','NULL','/userMainMasterSelect','\x27\x20AS\x20DATE)\x20\x20AND\x20email\x20=\x20\x27','express','Old\x20Password\x20Not\x20Match','PORT','ContactNumber','use','unuploaded_data.xlsx','\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20DateofJoining\x20=\x20CAST(\x27','json_to_sheet','42dqeLMn','file','select\x20COUNT(*)as\x20count\x20from\x20UserMainMaster\x20where\x20employeecode=\x20\x27','/Notification','put','/DashbordModelData','frommail','/download/unuploaded_Vendor_data.xlsx','multer','/VehicletypeMaster','connect','bodyFooter1','SELECT\x20*\x20FROM\x20EmailSendContent\x20where\x20status\x20=\x20\x27','\x27,\x0a\x20\x20\x20\x20\x20\x20\x27','exec\x20sp_RoleMapping\x20\x27','/VendorUploadData','utils','path','appendFile','log','\x0a\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20<html\x20lang=\x22en\x22>\x0a\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<title>Account\x20Created</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Arial\x27,\x20sans-serif;\x20line-height:\x201.6;\x20margin:\x200;\x20padding:\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x2020px\x20auto;\x20padding:\x2020px;\x20border-radius:\x208px;\x20box-shadow:\x200\x202px\x204px\x20rgba(0,\x200,\x200,\x200.1);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.title\x20{\x20color:\x20#333;\x20font-size:\x2020px;\x20margin-bottom:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20font-size:\x2016px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22title\x22>','success\x20Page\x20Assgined','\x27,\x20\x27\x27,\x20\x27\x27,\x27','User\x20registration\x20successful.\x20your\x20Temp\x20Password\x20is\x20NASH@123.','PRINTER_SHARE_PATH','Userrole','/InwardOutWardReport','dotenv','headers','Internal\x20Server\x20Error\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22content\x22>','An\x20error\x20occurred\x20while\x20processing\x20your\x20request.','/VehicleMasterHistory','1900-01-01','exec\x20sp_UserMainMaster\x20\x27','\x27,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27','Email','\x27,password\x20=\x20\x27','InsuranceCerNo','No\x20file\x20uploaded','bcryptjs','params','exec\x20sp_Docdestruct\x20\x27','\x27,\x0a\x20\x20\x20\x200,\x27','getTime','Error\x20downloading\x20file','/userMainMasterUpdate','Employeecode','json','console','post','/ResetPassword','SELECT\x20ISNULL((SELECT\x20password\x20FROM\x20UserMainMaster\x20WITH\x20(NOLOCK)\x20WHERE\x20employeecode\x20=\x20\x27','exec\x20dbo.sp_Vehicletypemaster\x20\x27','Login\x20Successfully','PRINTER_DEVICE_NAME','\x27,firstlogin\x20=\x20\x27','12075310ihywzs','\x27),\x20CAST(0\x20AS\x20int))\x20AS\x20password;','exec\x20dbo.sp_VehicleMasterHistory\x20\x27','single','filename','cors','\x27,\x27','Data\x20uploaded\x20with\x20some\x20errors','query','exec\x20sp_UploadVendor\x20\x27','exec\x20sp_VehicleMasterHistoryReport\x20\x27','trim','Database\x20connection\x20failed:','unuploaded_User_data.xlsx','7GQEKVf','mkdirSync','\x27,\x27\x27,\x27\x27,\x27\x27,\x27','/UserroleMaster','\x27\x20as\x20date)\x20and\x20\x0a\x20\x20\x20\x20email\x20=\x20\x27','config','EmailID','/download/:filename','writeFile','connection','/locationMaster','update\x20UserMainMaster\x20set\x20temppassword\x20=\x20\x27','unuploaded_Vendor_data.xlsx','Error\x20writing\x20to\x20log\x20file:','/user/ip','reduce','24228jVmApI','SheetNames','employeename','Error\x20downloading\x20file:','/forgotpassword','join','EXEC\x20SP_GeneralSetting\x20\x27','exec\x20dbo.sp_VehicleLocationmaster\x20\x27','subject','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22content\x22><strong>','push','Password\x20Reseted\x20Successfully','User\x20not\x20found','xlsx','select\x20*\x20FROM\x20EmailConfig\x20where\x20branchid\x20=\x20','util','\x27,expireddate\x20=\x20getdate()\x20where\x20employeecode\x20=\x20\x27','1096919vNeSUS','mode','PollutionCerNo','2192wVfcnu','exec\x20sp_InwardOutwardReport\x20\x27','recordset','\x27,0,\x27','update\x20UserMainMaster\x20set\x20loginattempt\x20=\x20','status','read','\x27,\x20','Connected\x20to\x20the\x20database','\x27,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27','env','book_new','VehicleNumber','promisify','HostName','\x27\x20where\x20employeecode\x20=\x27','exec\x20SP_EMAILCONFIG\x20\x27','Vehicle\x20Tracker\x20API\x20On\x20Live\x20','Sheets','split','count','length','/emailconfigsettings','exec\x20dbo.userlogin\x20\x27','./db','Brand','recordsets','compare','bodymain2','toISOString','/VehicleUploadData','\x27),\x20CAST(0\x20AS\x20int))\x20AS\x20password','/VendorMasterHistory','/othersetting','remoteAddress','exec\x20sp_DashboardCount\x20\x27','bodyContent2','User\x20registration\x20failed.','/login','bodyHead','Internal\x20Server\x20Error','VendorName','exec\x20sp_DestractionDateReport\x27','branchid','Password\x20Changed\x20Successfully','900296ZSDfVC','Email\x20sent\x20successfully.','module','Please\x20Check\x20The\x20Data','\x27,\x27login\x27,\x27','catch','Invalid\x20credentials\x20Attempt','ServiceName','book_append_sheet','socket','sendMail','exec\x20dbo.sp_VendorMasterHistory\x20\x27','buffer','string','Vehicletypeid'];a0_0x9a41=function(){return _0x2f51e1;};return a0_0x9a41();}const a0_0x448220=a0_0x2882;(function(_0x2b1dae,_0x249e03){const _0x2c8005=a0_0x2882,_0x10e6a2=_0x2b1dae();while(!![]){try{const _0x436798=parseInt(_0x2c8005(0x22b))/0x1+parseInt(_0x2c8005(0x1c3))/0x2*(parseInt(_0x2c8005(0x18d))/0x3)+parseInt(_0x2c8005(0x17d))/0x4+-parseInt(_0x2c8005(0x1aa))/0x5+parseInt(_0x2c8005(0x18c))/0x6*(-parseInt(_0x2c8005(0x20a))/0x7)+-parseInt(_0x2c8005(0x22e))/0x8*(parseInt(_0x2c8005(0x21a))/0x9)+parseInt(_0x2c8005(0x1fc))/0xa;if(_0x436798===_0x249e03)break;else _0x10e6a2['push'](_0x10e6a2['shift']());}catch(_0x413f33){_0x10e6a2['push'](_0x10e6a2['shift']());}}}(a0_0x9a41,0xb1a1e));const express=require(a0_0x448220(0x1bb)),cors=require(a0_0x448220(0x201)),server=express(),multer=require(a0_0x448220(0x1cb)),xlsx=require(a0_0x448220(0x227)),fs=require('fs'),util=require(a0_0x448220(0x229)),{exec}=require('child_process'),path=require(a0_0x448220(0x1d4)),upload=multer({'storage':multer['memoryStorage']()}),PORT=process[a0_0x448220(0x238)][a0_0x448220(0x1bd)]||0x1e65,nodemailer=require('nodemailer'),dotenv=require(a0_0x448220(0x1de)),bcrypt=require(a0_0x448220(0x1eb));dotenv[a0_0x448220(0x20f)](),server['use'](cors()),server[a0_0x448220(0x1bf)](express[a0_0x448220(0x1f3)]({'limit':a0_0x448220(0x19e)})),server['use'](express[a0_0x448220(0x1a6)]({'limit':a0_0x448220(0x19e),'extended':!![]}));const readFile=util[a0_0x448220(0x23b)](fs['readFile']),writeFile=util[a0_0x448220(0x23b)](fs['writeFile']),printerSharePath=process[a0_0x448220(0x238)][a0_0x448220(0x1db)],printerDeviceName=process['env'][a0_0x448220(0x1fa)];console[a0_0x448220(0x1d6)](printerSharePath,'\x20',printerDeviceName);const db=require(a0_0x448220(0x246)),{Module}=require(a0_0x448220(0x17f)),{log}=require(a0_0x448220(0x1f4));db[a0_0x448220(0x1cd)]()['then'](()=>{const _0xf260e2=a0_0x448220;console['log'](_0xf260e2(0x236));})[a0_0x448220(0x182)](_0x2c69e4=>{const _0x34d874=a0_0x448220;console[_0x34d874(0x191)](_0x34d874(0x208),_0x2c69e4),logErrorToFile(_0x34d874(0x208),_0x2c69e4);}),server[a0_0x448220(0x1b6)]('/',async(_0x88c9a7,_0x1736cf)=>{const _0xddb478=a0_0x448220;try{_0x1736cf[_0xddb478(0x1f3)](_0xddb478(0x23f));}catch(_0x9c1172){console[_0xddb478(0x1d6)](_0x9c1172),_0x1736cf[_0xddb478(0x233)](0x1f4)['json'](_0xddb478(0x1e0));}}),server[a0_0x448220(0x1f5)](a0_0x448220(0x254),async(_0x260c5b,_0x3c9119)=>{const _0xe2fe5a=a0_0x448220;try{const {username:_0x338f49,password:_0x46999c,ipAddress:_0x29f55f}=_0x260c5b[_0xe2fe5a(0x1b7)],_0x26fd59=_0xe2fe5a(0x245)+_0x338f49+'\x27',_0x23767f=await db[_0xe2fe5a(0x204)](_0x26fd59),_0x2a248c=_0x23767f[_0xe2fe5a(0x230)][0x0],_0x5789c5=_0x23767f['recordsets'][0x1];if(_0x2a248c['Result']===0x194)return console['log'](_0xe2fe5a(0x226)),_0x3c9119['status'](0x194)[_0xe2fe5a(0x1f3)]({'error':_0xe2fe5a(0x226)});let _0x49bea6=_0x2a248c['loginattempt'];const _0x27284f=await bcrypt[_0xe2fe5a(0x249)](_0x46999c,_0x2a248c[_0xe2fe5a(0x190)]);if(!_0x27284f){const _0x108552=_0xe2fe5a(0x232)+_0x49bea6+'\x20where\x20employeecode\x20=\x20\x27'+_0x338f49+'\x27',_0x478fec=await db[_0xe2fe5a(0x204)](_0x108552);return _0x3c9119[_0xe2fe5a(0x233)](0x190)[_0xe2fe5a(0x1f3)]({'error':_0xe2fe5a(0x183)});}else{const _0x4c5796='sp_loginhistory\x20\x27'+_0x338f49+_0xe2fe5a(0x202)+_0x2a248c[_0xe2fe5a(0x21c)]+_0xe2fe5a(0x181)+_0x29f55f+'\x27,\x27'+'I'+_0xe2fe5a(0x202)+_0x2a248c[_0xe2fe5a(0x17b)]+'\x27',_0x5d5994=await db[_0xe2fe5a(0x204)](_0x4c5796);if(_0x5d5994[_0xe2fe5a(0x1ab)]){const _0x48fbcb={..._0x2a248c,'usercode':_0x338f49,'password':_0x46999c},_0x10c632=_0x5789c5[_0xe2fe5a(0x219)]((_0x18199d,_0x4c8d05)=>{const _0xc7ccbc=_0xe2fe5a;return _0x18199d[_0x4c8d05[_0xc7ccbc(0x1b5)]]=_0x4c8d05[_0xc7ccbc(0x233)],_0x18199d;},{});_0x3c9119['status'](0xc8)[_0xe2fe5a(0x1f3)]({'send':_0x48fbcb,'pagedata':_0x10c632||null,'message':_0xe2fe5a(0x1f9),'navigation':_0x5789c5||null});}}}catch(_0x5f4ad4){console[_0xe2fe5a(0x191)](_0x5f4ad4),logErrorToFile(_0x5f4ad4);}}),server[a0_0x448220(0x1f5)]('/loginhistory',async(_0x365520,_0x440479)=>{const _0x6568a5=a0_0x448220;try{const {usercode:_0x50d063,username:_0x2c6d2b,status:_0x186014,ipAddress:_0x4c53f3,mood:_0x23ce67,branchid:_0x4d2c86}=_0x365520[_0x6568a5(0x1b7)],_0x9ec036='sp_loginhistory\x20\x27'+_0x50d063+_0x6568a5(0x202)+_0x2c6d2b+'\x27,\x27'+_0x186014+_0x6568a5(0x202)+_0x4c53f3+'\x27,\x27'+_0x23ce67+_0x6568a5(0x202)+_0x4d2c86+'\x27',_0xa5ca1e=await db['query'](_0x9ec036);_0x440479[_0x6568a5(0x233)](0xc8)['send'](_0xa5ca1e[_0x6568a5(0x230)]);}catch(_0x5a304f){console['error'](_0x5a304f),logErrorToFile(_0x5a304f);}}),server[a0_0x448220(0x1f5)]('/changepassword',async(_0x5032cf,_0x3454a8)=>{const _0x29f552=a0_0x448220;try{const {usercode:_0x4bd13f,oldpassword:_0x4623af,newpassword:_0x337540,confirmpassword:_0x1be729}=_0x5032cf[_0x29f552(0x1b7)],_0x27e11e=_0x29f552(0x1f7)+_0x4bd13f+_0x29f552(0x24d),_0x14eee1=await db[_0x29f552(0x204)](_0x27e11e),_0x177553=_0x14eee1[_0x29f552(0x230)][0x0];if(_0x177553[_0x29f552(0x190)]==='0')return console[_0x29f552(0x1d6)](_0x29f552(0x1a9)),_0x3454a8[_0x29f552(0x233)](0x194)[_0x29f552(0x1f3)]({'error':_0x29f552(0x1a9)});const _0x43d9b0=await bcrypt[_0x29f552(0x249)](_0x4623af,_0x177553[_0x29f552(0x190)]);if(!_0x43d9b0)return _0x3454a8[_0x29f552(0x233)](0x190)[_0x29f552(0x1f3)]({'error':_0x29f552(0x1bc)});if(_0x43d9b0){const _0x36d74d=await bcrypt[_0x29f552(0x195)](_0x1be729,0xa),_0x1e9d87=_0x29f552(0x215)+_0x36d74d+'\x27,password\x20=\x20\x27'+_0x36d74d+_0x29f552(0x1fb)+0x0+_0x29f552(0x22a)+_0x4bd13f+'\x27',_0xe32aff=await db[_0x29f552(0x204)](_0x1e9d87);_0xe32aff[_0x29f552(0x1ab)]&&_0x3454a8[_0x29f552(0x1f3)]({'message':_0x29f552(0x17c)});}}catch(_0x3b7627){console[_0x29f552(0x191)](_0x3b7627),logErrorToFile(_0x3b7627);}}),server[a0_0x448220(0x1f5)](a0_0x448220(0x1f6),async(_0x2513c7,_0x2f7a73)=>{const _0x1f779a=a0_0x448220;try{const {id:_0x1ab11c,employeecode:_0x532a69,employeename:_0x453d9e,email:_0x32681d,branchid:_0x12a071}=_0x2513c7[_0x1f779a(0x1b7)],_0x57dfd1=await bcrypt[_0x1f779a(0x195)](temppassword,0xa),_0x5a560c='update\x20UserMainMaster\x20set\x20temppassword\x20=\x20\x27'+_0x57dfd1+_0x1f779a(0x1e8)+_0x57dfd1+_0x1f779a(0x1fb)+0x1+'\x27,expireddate\x20=\x20getdate()\x20where\x20empid\x20='+_0x1ab11c,_0x235893=await db[_0x1f779a(0x204)](_0x5a560c);if(_0x235893[_0x1f779a(0x1ab)]){_0x2f7a73[_0x1f779a(0x233)](0xc8)[_0x1f779a(0x1a3)]();const _0x5ddfd3='re';await sendPasswordEmail(_0x532a69,_0x32681d,_0x453d9e,temppassword,_0x5ddfd3,_0x12a071);}}catch(_0x4709e2){console[_0x1f779a(0x191)](_0x4709e2),logErrorToFile(_0x4709e2);}}),server['post'](a0_0x448220(0x21e),async(_0x4d16a3,_0x8c2d6d)=>{const _0x65ff3a=a0_0x448220;try{const {usercode:_0x247400,dateofjoin:_0x42836b,email:_0x376ff1}=_0x4d16a3['body'],_0x1d9494=_0x65ff3a(0x1c5)+_0x247400+'\x27\x20and\x20DateofJoining\x20=\x20cast(\x27'+_0x42836b+_0x65ff3a(0x20e)+_0x376ff1+'\x27',_0x5ea18e=await db[_0x65ff3a(0x204)](_0x1d9494);console[_0x65ff3a(0x1d6)](_0x5ea18e['recordset']);if(_0x5ea18e[_0x65ff3a(0x230)][0x0][_0x65ff3a(0x242)]===0x0)_0x8c2d6d['status'](0x190)[_0x65ff3a(0x1f3)]({'error':_0x65ff3a(0x180)});else{const _0x304ba9=await db[_0x65ff3a(0x204)](_0x65ff3a(0x1a0)+_0x247400+_0x65ff3a(0x1c1)+_0x42836b+_0x65ff3a(0x1ba)+_0x376ff1+'\x27'),_0x487c53=_0x304ba9[_0x65ff3a(0x230)][0x0][_0x65ff3a(0x17b)],_0x53a2fa=_0x65ff3a(0x1a7),_0x2650e3=await bcrypt[_0x65ff3a(0x195)](_0x53a2fa,0xa),_0xb73fba=_0x65ff3a(0x215)+_0x2650e3+_0x65ff3a(0x1e8)+_0x2650e3+'\x27,firstlogin\x20=\x20\x27'+0x1+_0x65ff3a(0x23d)+_0x247400+'\x27',_0xa1776a=await db[_0x65ff3a(0x204)](_0xb73fba);if(_0xa1776a[_0x65ff3a(0x1ab)]){const _0x4e75e1='re',_0x15d1c2=_0x304ba9[_0x65ff3a(0x230)][0x0][_0x65ff3a(0x21c)];await sendPasswordEmail(_0x247400,_0x376ff1,_0x15d1c2,_0x53a2fa,_0x4e75e1,_0x487c53),_0x8c2d6d['status'](0xc8)[_0x65ff3a(0x1f3)]({'message':_0x65ff3a(0x194)});}}}catch(_0x1c8fc3){console[_0x65ff3a(0x191)](_0x1c8fc3),logErrorToFile(_0x1c8fc3);}}),server[a0_0x448220(0x1f5)]('/ExpirePasswordRest',async(_0x341834,_0x2a9dba)=>{const _0x588a07=a0_0x448220;try{const {usercode:_0x42c9d1,oldpassword:_0x3c231f,newpassword:_0x293d95,confirmpassword:_0x508902}=_0x341834[_0x588a07(0x1b7)],_0x2d281a=_0x588a07(0x1f7)+_0x42c9d1+_0x588a07(0x1fd),_0x24f686=await db[_0x588a07(0x204)](_0x2d281a),_0x577dc5=_0x24f686[_0x588a07(0x230)][0x0];if(_0x577dc5[_0x588a07(0x190)]==='0')return console['log'](_0x588a07(0x1a9)),_0x2a9dba[_0x588a07(0x233)](0x194)['json']({'error':_0x588a07(0x1a9)});const _0x2a2b9b=await bcrypt['compare'](_0x3c231f,_0x577dc5[_0x588a07(0x190)]);if(!_0x2a2b9b)return _0x2a9dba['status'](0x190)[_0x588a07(0x1f3)]({'error':_0x588a07(0x1bc)});if(_0x2a2b9b){const _0x3519a6=await bcrypt[_0x588a07(0x195)](_0x508902,0xa),_0x29a1f9=_0x588a07(0x215)+_0x3519a6+_0x588a07(0x1e8)+_0x3519a6+_0x588a07(0x1fb)+0x0+_0x588a07(0x22a)+_0x42c9d1+'\x27',_0x55e74b=await db[_0x588a07(0x204)](_0x29a1f9);_0x55e74b[_0x588a07(0x1ab)]&&_0x2a9dba[_0x588a07(0x1f3)]({'message':_0x588a07(0x225)});}}catch(_0x179e02){console[_0x588a07(0x191)](_0x179e02),logErrorToFile(_0x179e02);}}),server['post'](a0_0x448220(0x20d),async(_0x2327e1,_0x83af5b)=>{const _0x2db481=a0_0x448220;try{const {id:_0x3875db,userrole:_0x100ba7,createdby:_0x8ed9d9,updateby:_0x3df6df,branchid:_0x4b5515,mode:_0x51477c}=_0x2327e1[_0x2db481(0x1b7)],_0x4dd09e='exec\x20sp_Userrolemaster\x20\x27'+_0x3875db+_0x2db481(0x202)+_0x100ba7+_0x2db481(0x202)+_0x8ed9d9+'\x27,\x27'+_0x3df6df+_0x2db481(0x202)+_0x4b5515+_0x2db481(0x202)+_0x51477c+'\x27',_0x53a812=await db[_0x2db481(0x204)](_0x4dd09e);_0x83af5b[_0x2db481(0x233)](0xc8)[_0x2db481(0x1a3)](_0x53a812[_0x2db481(0x230)]);}catch(_0x889a68){console['error'](_0x889a68),logErrorToFile(_0x889a68),_0x83af5b[_0x2db481(0x233)](0x1f4)[_0x2db481(0x1f3)](_0x2db481(0x1e0));}}),server['post'](a0_0x448220(0x1a5),async(_0x55d330,_0x5eda31)=>{const _0x423774=a0_0x448220;try{const {id:_0x4c141a,createdby:_0x58b688,updateby:_0x157dbb,branchid:_0x5160f9,mode:_0x2777ad,employeecode:_0x231e20,employeename:_0x347eaf,email:_0x3b53da,dateofjoin:_0x1a3048,UserStatus:_0x3fdcbb,userrole:_0x477136}=_0x55d330['body'],_0x514d2b=_0x2a228f=>{const _0x1df60a=a0_0x2882;return typeof _0x2a228f===_0x1df60a(0x18a)?_0x2a228f[_0x1df60a(0x207)]():_0x2a228f;},_0x5bea56=_0x514d2b(_0x231e20),_0x4fcbfb=_0x514d2b(_0x347eaf),_0x955069=_0x514d2b(_0x3b53da),_0x585c68=_0x423774(0x1a7),_0x52808e=await bcrypt[_0x423774(0x195)](_0x585c68,0xa),_0xd708a8='exec\x20sp_UserMainMaster\x20\x27'+_0x4c141a+_0x423774(0x202)+_0x5bea56+_0x423774(0x19c)+_0x4fcbfb+_0x423774(0x19c)+_0x955069+_0x423774(0x19c)+_0x52808e+'\x27,\x20\x27'+_0x52808e+_0x423774(0x237)+_0x1a3048+_0x423774(0x235)+_0x3fdcbb+',\x20'+_0x477136+',\x20'+_0x58b688+',\x27'+_0x157dbb+'\x27,'+_0x5160f9+',\x27'+_0x2777ad+'\x27';console[_0x423774(0x1d6)](_0xd708a8);const _0x55aafc=await db[_0x423774(0x204)](_0xd708a8);console[_0x423774(0x1d6)](_0x55aafc[_0x423774(0x1ab)]);if(_0x55aafc['rowsAffected']){const _0xef93cd='ur';_0x5eda31[_0x423774(0x233)](0xc8)[_0x423774(0x1f3)]({'message':_0x423774(0x1da)});}else _0x5eda31[_0x423774(0x233)](0x1f4)[_0x423774(0x1f3)](_0x423774(0x253));}catch(_0x416075){_0x5eda31['status'](0x1f4)['send'](_0x423774(0x1e2)),console['error'](_0x416075),logErrorToFile(_0x416075);}}),server[a0_0x448220(0x1f5)](a0_0x448220(0x1b9),async(_0x190ecb,_0x20ef7d)=>{const _0x2c56a3=a0_0x448220;try{const {id:_0x583f12,updateby:_0x1e4130,branchid:_0x5049fc,mode:_0x2c33d4}=_0x190ecb[_0x2c56a3(0x1b7)],_0xe53215=_0x2c56a3(0x1e5)+_0x583f12+'\x27,\x27\x27,\x20\x27\x27,\x20\x27\x27,\x20\x27\x27,\x20\x27\x27,\x27\x27,\x20\x27\x27,0,0,\x27'+_0x1e4130+'\x27,'+_0x5049fc+',\x27'+_0x2c33d4+'\x27';console[_0x2c56a3(0x1d6)](_0xe53215);const _0x45d707=await db[_0x2c56a3(0x204)](_0xe53215);_0x20ef7d[_0x2c56a3(0x233)](0xc8)[_0x2c56a3(0x1a3)](_0x45d707[_0x2c56a3(0x230)]);}catch(_0x28e34a){console[_0x2c56a3(0x191)](_0x28e34a),logErrorToFile(_0x28e34a),_0x20ef7d[_0x2c56a3(0x233)](0x1f4)[_0x2c56a3(0x1a3)](_0x2c56a3(0x1e2));}}),server['post'](a0_0x448220(0x1f1),async(_0x231d78,_0x172878)=>{const _0x495918=a0_0x448220;try{const {updateddby:_0x47ba3e,mode:_0x12589,id:_0x12b0d5,employeecode:_0x258de4,employeename:_0x3c1be9,email:_0x7fef9f,dateofjoin:_0x2e6dfe,UserStatus:_0x3d9c2,userrole:_0x518498}=_0x231d78[_0x495918(0x1b7)],_0x5ebfc0=_0x495918(0x1e5)+_0x12b0d5+'\x27,\x27'+_0x258de4+_0x495918(0x19c)+_0x3c1be9+_0x495918(0x19c)+_0x7fef9f+_0x495918(0x1d9)+_0x2e6dfe+'\x27,\x20\x27'+_0x3d9c2+_0x495918(0x202)+_0x518498+_0x495918(0x1ee)+_0x47ba3e+_0x495918(0x231)+_0x12589+'\x27';console['log'](_0x5ebfc0);const _0x2247ee=await db[_0x495918(0x204)](_0x5ebfc0);_0x172878[_0x495918(0x233)](0xc8)['send'](_0x2247ee[_0x495918(0x1ab)]);}catch(_0x3c3ba8){console['error'](_0x3c3ba8),logErrorToFile(_0x3c3ba8),_0x172878[_0x495918(0x233)](0x1f4)['send'](_0x495918(0x1e2));}});function a0_0x2882(_0x122eaa,_0x35989b){const _0x9a4136=a0_0x9a41();return a0_0x2882=function(_0x288240,_0x2712e4){_0x288240=_0x288240-0x179;let _0x5165b9=_0x9a4136[_0x288240];return _0x5165b9;},a0_0x2882(_0x122eaa,_0x35989b);}async function sendPasswordEmail(_0xd359e4,_0x8eb8dd,_0x366c2e,_0x2b9429,_0x3bae7c,_0x45db30){const _0x70fedd=a0_0x448220;try{const _0x578b58=await db['query'](_0x70fedd(0x1cf)+_0x3bae7c+'\x27'),_0x2d8343=await _0x578b58[_0x70fedd(0x230)][0x0],_0x35973d=await db[_0x70fedd(0x204)](_0x70fedd(0x228)+_0x45db30),_0x302a6f=await _0x35973d[_0x70fedd(0x230)][0x0];let _0x5b6338=nodemailer[_0x70fedd(0x1b1)]({'service':''+_0x302a6f[_0x70fedd(0x184)],'host':''+_0x302a6f[_0x70fedd(0x23c)],'port':''+_0x302a6f['PortNo'],'secure':![],'auth':{'user':''+_0x302a6f[_0x70fedd(0x1c9)],'pass':''+_0x302a6f['apppassword']}});const _0x4af2a5=_0x70fedd(0x1d7)+_0x2d8343[_0x70fedd(0x255)]+_0x70fedd(0x1e1)+_0x2d8343[_0x70fedd(0x19d)]+'\x20'+_0x366c2e+_0x70fedd(0x18f)+_0x2d8343[_0x70fedd(0x252)]+_0x70fedd(0x1a8)+_0x2d8343['bodymain1']+'\x20'+_0xd359e4+_0x70fedd(0x223)+_0x2d8343[_0x70fedd(0x24a)]+'\x20'+_0x2b9429+_0x70fedd(0x19f)+_0x2d8343[_0x70fedd(0x1ce)]+_0x70fedd(0x1a2)+_0x2d8343[_0x70fedd(0x1b2)]+_0x70fedd(0x192);await _0x5b6338[_0x70fedd(0x187)]({'from':''+_0x302a6f[_0x70fedd(0x1c9)],'to':_0x8eb8dd,'subject':''+_0x2d8343[_0x70fedd(0x222)],'html':_0x4af2a5}),console[_0x70fedd(0x1d6)](_0x70fedd(0x17e));}catch(_0x123e91){console[_0x70fedd(0x191)](_0x70fedd(0x1a4),_0x123e91),logErrorToFile(_0x70fedd(0x1a4),_0x123e91);}}server[a0_0x448220(0x1f5)]('/RoleMapping',async(_0x273735,_0x296ce8)=>{const _0x2d6e1c=a0_0x448220;try{const {pageid:_0x41c0b6,roleid:_0x1d7e8f,createby:_0x3bfc74,mood:_0x5a0d73,branchid:_0xa8c5b8}=_0x273735['body'];console['log'](_0x41c0b6,_0x1d7e8f,_0x3bfc74,_0x5a0d73);if(_0x41c0b6!==''){for(const _0x584617 of _0x41c0b6){const _0x1228c6=_0x2d6e1c(0x1d1)+_0x584617+'\x27,\x27'+_0x1d7e8f+_0x2d6e1c(0x202)+_0x3bfc74+_0x2d6e1c(0x202)+_0x5a0d73+_0x2d6e1c(0x202)+_0xa8c5b8+'\x27';console[_0x2d6e1c(0x1d6)](_0x1228c6);const _0x5ad009=await db[_0x2d6e1c(0x204)](_0x1228c6);console[_0x2d6e1c(0x1d6)](_0x5ad009[_0x2d6e1c(0x230)]);}_0x296ce8[_0x2d6e1c(0x233)](0xc8)[_0x2d6e1c(0x1f3)](_0x2d6e1c(0x1d8));}else{const _0x33df03=_0x2d6e1c(0x1d1)+_0x41c0b6+'\x27,\x27'+_0x1d7e8f+'\x27,\x27'+_0x3bfc74+_0x2d6e1c(0x202)+_0x5a0d73+_0x2d6e1c(0x202)+_0xa8c5b8+'\x27';console[_0x2d6e1c(0x1d6)](_0x33df03);const _0x49c4bb=await db['query'](_0x33df03);_0x296ce8[_0x2d6e1c(0x233)](0xc8)['send'](_0x49c4bb[_0x2d6e1c(0x230)]);}}catch(_0x1dd136){console[_0x2d6e1c(0x1d6)](_0x1dd136),logErrorToFile(_0x1dd136);}}),server[a0_0x448220(0x1f5)](a0_0x448220(0x214),async(_0x2b0ab7,_0x1d60a3)=>{const _0x3783e2=a0_0x448220;try{const {id:_0x5b47cc,name:_0x8ecac4,createby:_0x275e37,updateby:_0x479571,mood:_0x4d645e,branchid:_0x2c0b19}=_0x2b0ab7[_0x3783e2(0x1b7)],_0x1258b0=_0x3783e2(0x221)+_0x5b47cc+_0x3783e2(0x19a)+_0x8ecac4+_0x3783e2(0x202)+_0x275e37+_0x3783e2(0x202)+_0x479571+_0x3783e2(0x202)+_0x4d645e+_0x3783e2(0x202)+_0x2c0b19+'\x27\x20';console['log'](_0x1258b0);const _0x3d823f=await db['query'](_0x1258b0);_0x1d60a3[_0x3783e2(0x233)](0xc8)['send'](_0x3d823f['recordset']);}catch(_0x48e2f2){console['log'](_0x48e2f2),logErrorToFile(_0x48e2f2),_0x1d60a3[_0x3783e2(0x233)](0x1f4)[_0x3783e2(0x1f3)](_0x3783e2(0x256));}}),server[a0_0x448220(0x1f5)](a0_0x448220(0x1cc),async(_0x31032d,_0x1523c0)=>{const _0x24840c=a0_0x448220;try{const {id:_0x5d9151,name:_0x9a585e,createby:_0x36028f,updateby:_0x471fb6,mood:_0x428493,branchid:_0x5e6dcb}=_0x31032d[_0x24840c(0x1b7)],_0x48a016=_0x24840c(0x1f8)+_0x5d9151+_0x24840c(0x19a)+_0x9a585e+'\x27,\x27'+_0x36028f+'\x27,\x27'+_0x471fb6+_0x24840c(0x202)+_0x428493+_0x24840c(0x202)+_0x5e6dcb+'\x27\x20';console[_0x24840c(0x1d6)](_0x48a016);const _0x540961=await db[_0x24840c(0x204)](_0x48a016);_0x1523c0[_0x24840c(0x233)](0xc8)[_0x24840c(0x1a3)](_0x540961[_0x24840c(0x230)]);}catch(_0x263c24){console['log'](_0x263c24),logErrorToFile(_0x263c24),_0x1523c0[_0x24840c(0x233)](0x1f4)[_0x24840c(0x1f3)]('Internal\x20Server\x20Error');}}),server['post'](a0_0x448220(0x1e3),async(_0x1d7e79,_0x2bbf39)=>{const _0x11aefd=a0_0x448220;try{const {id:_0x387f62,RFID:_0x941bc,VehicleNumber:_0x402602,Brand:_0x9ee2bd,Vehicletypeid:_0x36becd,Model:_0x350cc4,PollutionCerNo:_0x204a8e,InsuranceCerNo:_0x1fe3fe,VehicleStatus:_0x53390d,createby:_0x23ad33,updateby:_0x1fe823,status:_0x13a11d,systemip:_0x1f7036,mood:_0x15a2d8,branchid:_0x242498,files:_0x37ec30,Pollutioncertfiles:_0x9fa8c0,Insurancecertfiles:_0x579322,VNMid:_0x5b845d,InsuranceExpireDate:_0x1e9770,PollutionExpireDate:_0x19ce5e}=_0x1d7e79[_0x11aefd(0x1b7)],_0x4dcd5c=_0x11aefd(0x1fe)+_0x387f62+_0x11aefd(0x19c)+_0x941bc+_0x11aefd(0x19c)+_0x402602+_0x11aefd(0x19c)+_0x9ee2bd+'\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x27'+_0x36becd+_0x11aefd(0x19c)+_0x350cc4+_0x11aefd(0x19c)+_0x204a8e+_0x11aefd(0x19c)+_0x1fe3fe+_0x11aefd(0x19c)+_0x53390d+'\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27'+_0x23ad33+_0x11aefd(0x19c)+_0x1fe823+_0x11aefd(0x202)+_0x13a11d+_0x11aefd(0x19c)+_0x1f7036+_0x11aefd(0x202)+_0x15a2d8+'\x27,\x20\x27'+_0x242498+_0x11aefd(0x202)+_0x37ec30+_0x11aefd(0x202)+_0x9fa8c0+'\x27,\x27'+_0x579322+_0x11aefd(0x202)+_0x5b845d+_0x11aefd(0x202)+_0x1e9770+_0x11aefd(0x202)+_0x19ce5e+'\x27',_0x154e7c=await db['query'](_0x4dcd5c);_0x2bbf39[_0x11aefd(0x233)](0xc8)['send'](_0x154e7c[_0x11aefd(0x230)]);}catch(_0x118a24){logErrorToFile(_0x118a24),_0x2bbf39[_0x11aefd(0x233)](0x1f4)[_0x11aefd(0x1f3)]('Internal\x20Server\x20Error');}}),server['post'](a0_0x448220(0x24e),async(_0x688294,_0x4b4e63)=>{const _0x1799e5=a0_0x448220;try{const {id:_0x21d285,VendorCode:_0x4d83e8,VendorName:_0x251b8d,EmailID:_0xc37094,ContactNumber:_0x14c0f4,VendorStatus:_0x438852,createby:_0xeb0ba0,updateby:_0x215c69,systemip:_0x4d7c2b,mood:_0x343f6b,branchid:_0x4a74d4}=_0x688294[_0x1799e5(0x1b7)],_0x2284ad=_0x1799e5(0x188)+_0x21d285+_0x1799e5(0x19c)+_0x4d83e8+_0x1799e5(0x19c)+_0x251b8d+_0x1799e5(0x19c)+_0xc37094+_0x1799e5(0x1d0)+_0x14c0f4+_0x1799e5(0x19c)+_0x438852+_0x1799e5(0x19c)+_0xeb0ba0+_0x1799e5(0x19c)+_0x215c69+'\x27,\x20\x27'+_0x4d7c2b+_0x1799e5(0x202)+_0x343f6b+_0x1799e5(0x19c)+_0x4a74d4+'\x27',_0x3f76aa=await db[_0x1799e5(0x204)](_0x2284ad);_0x4b4e63[_0x1799e5(0x233)](0xc8)[_0x1799e5(0x1a3)](_0x3f76aa[_0x1799e5(0x230)]);}catch(_0x289feb){logErrorToFile(_0x289feb),_0x4b4e63[_0x1799e5(0x233)](0x1f4)[_0x1799e5(0x1f3)](_0x1799e5(0x256));}}),server[a0_0x448220(0x1f5)](a0_0x448220(0x24c),upload[a0_0x448220(0x1ff)](a0_0x448220(0x1c4)),async(_0x2eb34d,_0x2b4d9b)=>{const _0x4894d9=a0_0x448220;try{const _0x505190=_0x2eb34d[_0x4894d9(0x1c4)],{createdby:_0x4cffec,systemip:_0x329803,branchid:_0x1a3571}=_0x2eb34d['body'];if(!_0x505190)return _0x2b4d9b[_0x4894d9(0x233)](0x190)[_0x4894d9(0x1f3)]({'message':'No\x20file\x20uploaded'});const _0x53784e=xlsx[_0x4894d9(0x234)](_0x505190['buffer'],{'type':_0x4894d9(0x189)}),_0x3bd2ce=_0x53784e[_0x4894d9(0x21b)][0x0],_0x3acfbd=_0x53784e[_0x4894d9(0x240)][_0x3bd2ce],_0x16d752=xlsx[_0x4894d9(0x1d3)][_0x4894d9(0x18e)](_0x3acfbd);let _0x49dc78=0x0;const _0x4b4c60=[],_0x527e08='',_0x5d8567='I',_0x4acda0=_0x4894d9(0x1b8),_0x437c41='A';for(const _0x725293 of _0x16d752){const {RFID:_0x418844,VehicleNumber:_0x444c8d,VehicletypeName:_0x4b5116,Brand:_0x15304c,Model:_0x23f137,PollutionCerNo:_0x137474,InsuranceCerNo:_0x550367,VendorName:_0x5c9b4c,PollutionExpireDate:_0x70b981,InsuranceExpireDate:_0x467b53}=_0x725293,_0x1b6c28=_0x41ab14=>{const _0x247a5b=_0x4894d9;return typeof _0x41ab14==='string'?_0x41ab14[_0x247a5b(0x207)]():_0x41ab14;},_0x46910f=_0x1b6c28(_0x418844),_0xc64ad=_0x1b6c28(_0x444c8d),_0x516c42=_0x1b6c28(_0x4b5116),_0x8bc9bc=_0x1b6c28(_0x15304c),_0x2b8805=_0x1b6c28(_0x23f137),_0x280f2c=_0x1b6c28(_0x137474),_0x18da94=_0x1b6c28(_0x550367),_0x59f608=_0x1b6c28(_0x5c9b4c),_0xfba66e=_0x24bd6c=>{const _0x40d9f7=_0x4894d9,_0x44e7ed=new Date(_0x40d9f7(0x1e4)),_0xba76c=0x18*0x3c*0x3c*0x3e8,_0x17b0ab=_0x24bd6c-0x1,_0xb6a512=_0x17b0ab*_0xba76c,_0x4cbca4=new Date(_0x44e7ed[_0x40d9f7(0x1ef)]()+_0xb6a512);return _0x4cbca4['setHours'](0x0,0x0,0x0,0x0),_0x4cbca4;},_0x23e402=_0x5eb2bb=>{const _0xb4ea45=_0x4894d9;return _0xfba66e(_0x5eb2bb)['toISOString']()[_0xb4ea45(0x241)]('T')[0x0];};console[_0x4894d9(0x1d6)](_0x70b981,_0x467b53);let _0x51bbe6=_0x70b981&&typeof _0x70b981===_0x4894d9(0x18a)?_0x70b981:_0x23e402(_0x70b981),_0x17fd2e=_0x467b53&&typeof _0x467b53===_0x4894d9(0x18a)?_0x467b53:_0x23e402(_0x467b53);const _0x306f13='exec\x20sp_Uploadvehicle\x20\x27'+_0x46910f+_0x4894d9(0x19c)+_0xc64ad+'\x27,\x27'+_0x516c42+_0x4894d9(0x202)+_0x59f608+_0x4894d9(0x202)+_0x8bc9bc+_0x4894d9(0x202)+_0x2b8805+_0x4894d9(0x202)+_0x280f2c+_0x4894d9(0x202)+_0x18da94+_0x4894d9(0x202)+_0x1a3571+'\x27',_0x1a93e2=await db['query'](_0x306f13),[_0x2e68b6]=_0x1a93e2[_0x4894d9(0x230)];console[_0x4894d9(0x1d6)](_0x2e68b6);if(_0x2e68b6[_0x4894d9(0x19b)]===0x0&&_0x2e68b6['VNMid']!==0x0&&_0x2e68b6[_0x4894d9(0x18b)]!==0x0){const _0x3bd359=_0x4894d9(0x1fe)+_0x527e08+'\x27,\x20\x27'+_0x46910f+_0x4894d9(0x202)+_0xc64ad+_0x4894d9(0x202)+_0x8bc9bc+_0x4894d9(0x202)+_0x2e68b6[_0x4894d9(0x18b)]+_0x4894d9(0x202)+_0x2b8805+'\x27,\x27'+_0x280f2c+_0x4894d9(0x202)+_0x18da94+_0x4894d9(0x202)+_0x437c41+_0x4894d9(0x202)+_0x4cffec+_0x4894d9(0x199)+_0x4acda0+'\x27,\x27\x27,\x27'+_0x5d8567+_0x4894d9(0x202)+_0x1a3571+_0x4894d9(0x20c)+_0x2e68b6[_0x4894d9(0x198)]+_0x4894d9(0x202)+_0x51bbe6+'\x27,\x20\x27'+_0x17fd2e+'\x27',_0x18c3c1=await db[_0x4894d9(0x204)](_0x3bd359);_0x18c3c1[_0x4894d9(0x1ab)][0x0]!==0x0&&_0x49dc78++;}else _0x4b4c60['push']({'RFID':_0x725293[_0x4894d9(0x1b3)],'VehicleNumber':_0x725293[_0x4894d9(0x23a)],'VehicletypeName':_0x725293['VehicletypeName'],'Brand':_0x725293[_0x4894d9(0x247)],'Model':_0x725293[_0x4894d9(0x1ae)],'PollutionCerNo':_0x725293[_0x4894d9(0x22d)],'InsuranceCerNo':_0x725293[_0x4894d9(0x1e9)],'PollutionExpireDate':_0x51bbe6,'InsuranceExpireDate':_0x17fd2e,'VendorName':_0x725293['VendorName']});}if(_0x4b4c60[_0x4894d9(0x243)]>0x0){const _0x30a6c2=xlsx[_0x4894d9(0x1d3)][_0x4894d9(0x239)](),_0x5468c2=xlsx[_0x4894d9(0x1d3)][_0x4894d9(0x1c2)](_0x4b4c60);xlsx[_0x4894d9(0x1d3)]['book_append_sheet'](_0x30a6c2,_0x5468c2,'Unuploaded\x20Data');const _0xd3f1d3=path[_0x4894d9(0x21f)](__dirname,_0x4894d9(0x1c0));xlsx[_0x4894d9(0x212)](_0x30a6c2,_0xd3f1d3),_0x2b4d9b[_0x4894d9(0x233)](0xc8)['json']({'message':_0x4894d9(0x203),'uploadcount':_0x49dc78,'unuploadedFilePath':'/download/unuploaded_data.xlsx'});}else _0x2b4d9b[_0x4894d9(0x233)](0xc8)[_0x4894d9(0x1f3)]({'message':_0x4894d9(0x1a1),'uploadcount':_0x49dc78});}catch(_0x42b3c5){logErrorToFile(_0x42b3c5),console[_0x4894d9(0x1d6)](_0x42b3c5),_0x2b4d9b[_0x4894d9(0x233)](0x1f4)['json']({'message':_0x4894d9(0x256)});}}),server[a0_0x448220(0x1f5)](a0_0x448220(0x1d2),upload[a0_0x448220(0x1ff)]('file'),async(_0x400d39,_0x28ba04)=>{const _0x224413=a0_0x448220;try{const _0x48cfbb=_0x400d39[_0x224413(0x1c4)],{createdby:_0x1d55bb,systemip:_0x1be340,branchid:_0x7ff9bb}=_0x400d39[_0x224413(0x1b7)];if(!_0x48cfbb)return _0x28ba04[_0x224413(0x233)](0x190)[_0x224413(0x1f3)]({'message':_0x224413(0x1ea)});const _0x30ffa3=xlsx[_0x224413(0x234)](_0x48cfbb['buffer'],{'type':_0x224413(0x189)}),_0x313f73=_0x30ffa3[_0x224413(0x21b)][0x0],_0x47173b=_0x30ffa3['Sheets'][_0x313f73],_0x17e991=xlsx[_0x224413(0x1d3)]['sheet_to_json'](_0x47173b);let _0x18c909=0x0;const _0x140eda=[],_0x56df31='',_0x43e8dd='I',_0x2186ff='A';for(const _0x2394fa of _0x17e991){const {VendorCode:_0x142603,VendorName:_0x154724,EmailID:_0x3545bb,ContactNumber:_0x304941}=_0x2394fa,_0x516044=_0x48b40b=>{const _0x41b757=_0x224413;return typeof _0x48b40b===_0x41b757(0x18a)?_0x48b40b[_0x41b757(0x207)]():_0x48b40b;},_0x34250e=_0x516044(_0x142603),_0x4dd055=_0x516044(_0x154724),_0x3fe02e=_0x516044(_0x3545bb),_0x25a112=_0x516044(_0x304941),_0x241a3e=_0x330239=>{const _0x1c1781=_0x224413,_0x400a8b=new Date(_0x1c1781(0x1e4)),_0x4b34c8=0x18*0x3c*0x3c*0x3e8,_0x4ec55b=_0x330239-0x1,_0x45c74a=_0x4ec55b*_0x4b34c8,_0x251066=new Date(_0x400a8b[_0x1c1781(0x1ef)]()+_0x45c74a);return _0x251066[_0x1c1781(0x1af)](0x0,0x0,0x0,0x0),_0x251066;},_0x2d6976=_0x224413(0x205)+_0x34250e+_0x224413(0x202)+_0x4dd055+_0x224413(0x202)+_0x3fe02e+_0x224413(0x202)+_0x25a112+_0x224413(0x202)+_0x7ff9bb+'\x27',_0x122f82=await db[_0x224413(0x204)](_0x2d6976),[_0x4eaac3]=_0x122f82[_0x224413(0x230)];console['log'](_0x4eaac3);if(_0x4eaac3[_0x224413(0x19b)]===0x0){const _0x5944f8='exec\x20sp_VendorMasterHistory\x20\x27'+_0x56df31+_0x224413(0x202)+_0x34250e+_0x224413(0x19c)+_0x4dd055+_0x224413(0x202)+_0x3fe02e+_0x224413(0x1e6)+_0x25a112+_0x224413(0x19c)+_0x2186ff+_0x224413(0x202)+_0x1d55bb+'\x27,\x27\x27,\x27\x27,\x27'+_0x43e8dd+'\x27,'+_0x7ff9bb,_0x2e8d85=await db['query'](_0x5944f8);_0x2e8d85[_0x224413(0x1ab)][0x0]!==0x0&&_0x18c909++;}else _0x140eda[_0x224413(0x224)]({'VendorCode':_0x2394fa['VendorCode'],'VendorName':_0x2394fa[_0x224413(0x179)],'EmailID':_0x2394fa[_0x224413(0x210)],'ContactNumber':_0x2394fa[_0x224413(0x1be)]});}if(_0x140eda[_0x224413(0x243)]>0x0){const _0x1e4d23=xlsx[_0x224413(0x1d3)][_0x224413(0x239)](),_0x2549e5=xlsx['utils']['json_to_sheet'](_0x140eda);xlsx['utils'][_0x224413(0x185)](_0x1e4d23,_0x2549e5,'Unuploaded\x20User\x20Data');const _0xd3931=path[_0x224413(0x21f)](__dirname,_0x224413(0x216));xlsx[_0x224413(0x212)](_0x1e4d23,_0xd3931),_0x28ba04[_0x224413(0x233)](0xc8)[_0x224413(0x1f3)]({'message':_0x224413(0x203),'uploadcount':_0x18c909,'unuploadedFilePath':_0x224413(0x1ca)});}else _0x28ba04['status'](0xc8)[_0x224413(0x1f3)]({'message':_0x224413(0x1a1),'uploadcount':_0x18c909});}catch(_0x3907f2){logErrorToFile(_0x3907f2),console[_0x224413(0x1d6)](_0x3907f2),_0x28ba04[_0x224413(0x233)](0x1f4)[_0x224413(0x1f3)]({'message':_0x224413(0x256)});}}),server[a0_0x448220(0x1f5)]('/UserUploadData',upload[a0_0x448220(0x1ff)](a0_0x448220(0x1c4)),async(_0x58aeda,_0x2dfc88)=>{const _0x355399=a0_0x448220;try{const _0x4e8a23=_0x58aeda['file'],{createdby:_0x2c7e72,systemip:_0x2373be,branchid:_0x1e7366}=_0x58aeda[_0x355399(0x1b7)];if(!_0x4e8a23)return _0x2dfc88[_0x355399(0x233)](0x190)[_0x355399(0x1f3)]({'message':_0x355399(0x1ea)});const _0x2e8d3d=xlsx[_0x355399(0x234)](_0x4e8a23[_0x355399(0x189)],{'type':_0x355399(0x189)}),_0x110125=_0x2e8d3d['SheetNames'][0x0],_0x51dbec=_0x2e8d3d[_0x355399(0x240)][_0x110125],_0x2f7ebd=xlsx[_0x355399(0x1d3)]['sheet_to_json'](_0x51dbec);let _0x505246=0x0;const _0x5ca056=[],_0x3abe5d='',_0xbb1e89='I',_0x2218e3='A';for(const _0xdb8c4b of _0x2f7ebd){const {Employeecode:_0x51c6ed,Employeename:_0x373c84,Email:_0x5bef3e,DateofJoining:_0x2dd795,Userrole:_0x231879}=_0xdb8c4b,_0x48aafc=_0x59869a=>{const _0x4340e5=_0x355399;return typeof _0x59869a===_0x4340e5(0x18a)?_0x59869a[_0x4340e5(0x207)]():_0x59869a;},_0x21e48e=_0x48aafc(_0x51c6ed),_0x2ec5ec=_0x48aafc(_0x373c84),_0x36763c=_0x48aafc(_0x5bef3e),_0x4ed9db=_0x48aafc(_0x231879),_0x33062b=_0xd87834=>{const _0x2fe9b0=_0x355399,_0x268365=new Date(_0x2fe9b0(0x1e4)),_0x59b29b=0x18*0x3c*0x3c*0x3e8,_0x4c62a5=_0xd87834-0x1,_0x1773aa=_0x4c62a5*_0x59b29b,_0x3856b5=new Date(_0x268365[_0x2fe9b0(0x1ef)]()+_0x1773aa);return _0x3856b5[_0x2fe9b0(0x1af)](0x0,0x0,0x0,0x0),_0x3856b5;},_0x411a63=_0x1e3c98=>{const _0x347cee=_0x355399;return _0x33062b(_0x1e3c98)[_0x347cee(0x24b)]()['split']('T')[0x0];};let _0x41d472=_0x2dd795&&_0x2dd795!==undefined?_0x411a63(_0x2dd795):undefined;const _0x5ed63e='exec\x20sp_UploadUser\x20\x27'+_0x21e48e+'\x27,\x27'+_0x2ec5ec+_0x355399(0x202)+_0x36763c+_0x355399(0x202)+_0x4ed9db+'\x27,\x27'+_0x1e7366+'\x27',_0x495423=await db[_0x355399(0x204)](_0x5ed63e),[_0x55438d]=_0x495423['recordset'];console[_0x355399(0x1d6)](_0x55438d);if(_0x55438d[_0x355399(0x19b)]===0x0&&_0x55438d['useroleid']!==0x0){const _0x2a196f=_0x355399(0x1a7),_0x4d7b50=await bcrypt[_0x355399(0x195)](_0x2a196f,0xa),_0x31d86d=_0x355399(0x1e5)+_0x3abe5d+_0x355399(0x202)+_0x21e48e+_0x355399(0x19c)+_0x2ec5ec+_0x355399(0x19c)+_0x36763c+'\x27,\x20\x27'+_0x4d7b50+_0x355399(0x19c)+_0x4d7b50+_0x355399(0x1e6)+_0x41d472+_0x355399(0x235)+_0x2218e3+',\x20'+_0x55438d[_0x355399(0x1b4)]+','+_0x2c7e72+',\x27\x27,'+_0x1e7366+',\x27'+_0xbb1e89+'\x27',_0x192b76=await db[_0x355399(0x204)](_0x31d86d);if(_0x192b76['rowsAffected'][0x0]!==0x0){_0x505246++;const _0x3d4563='ur';}}else _0x5ca056[_0x355399(0x224)]({'Employeecode':_0xdb8c4b[_0x355399(0x1f2)],'Employeename':_0xdb8c4b['Employeename'],'Email':_0xdb8c4b[_0x355399(0x1e7)],'DateofJoining':_0x41d472,'Userrole':_0xdb8c4b[_0x355399(0x1dc)]});}if(_0x5ca056[_0x355399(0x243)]>0x0){const _0x3630cd=xlsx[_0x355399(0x1d3)][_0x355399(0x239)](),_0x37f333=xlsx[_0x355399(0x1d3)][_0x355399(0x1c2)](_0x5ca056);xlsx[_0x355399(0x1d3)][_0x355399(0x185)](_0x3630cd,_0x37f333,'Unuploaded\x20User\x20Data');const _0x1766b7=path[_0x355399(0x21f)](__dirname,_0x355399(0x209));xlsx[_0x355399(0x212)](_0x3630cd,_0x1766b7),_0x2dfc88[_0x355399(0x233)](0xc8)[_0x355399(0x1f3)]({'message':'Data\x20uploaded\x20with\x20some\x20errors','uploadcount':_0x505246,'unuploadedFilePath':_0x355399(0x1ac)});}else _0x2dfc88['status'](0xc8)[_0x355399(0x1f3)]({'message':_0x355399(0x1a1),'uploadcount':_0x505246});}catch(_0x2a449c){logErrorToFile(_0x2a449c),console[_0x355399(0x1d6)](_0x2a449c),_0x2dfc88[_0x355399(0x233)](0x1f4)[_0x355399(0x1f3)]({'message':'Internal\x20Server\x20Error'});}}),server[a0_0x448220(0x1b6)](a0_0x448220(0x211),(_0x4c0498,_0x2866a5)=>{const _0x546723=a0_0x448220,_0x4dd66c=path[_0x546723(0x21f)](__dirname,_0x4c0498[_0x546723(0x1ec)][_0x546723(0x200)]);_0x2866a5['download'](_0x4dd66c,_0x197229=>{const _0x20dda6=_0x546723;_0x197229?(console[_0x20dda6(0x1d6)](_0x20dda6(0x21d),_0x197229),_0x2866a5[_0x20dda6(0x233)](0x1f4)['json']({'message':_0x20dda6(0x1f0)})):fs['unlinkSync'](_0x4dd66c);});}),server['get'](a0_0x448220(0x218),(_0x5411f8,_0x217258)=>{const _0x4697f2=a0_0x448220,_0x4d6c6d=_0x5411f8[_0x4697f2(0x1df)]['x-forwarded-for']||_0x5411f8[_0x4697f2(0x213)][_0x4697f2(0x250)]||_0x5411f8[_0x4697f2(0x186)]['remoteAddress']||(_0x5411f8[_0x4697f2(0x213)][_0x4697f2(0x186)]?_0x5411f8[_0x4697f2(0x213)][_0x4697f2(0x186)][_0x4697f2(0x250)]:null);console[_0x4697f2(0x1d6)](_0x4d6c6d),_0x217258['json']({'ip':_0x4d6c6d});}),server[a0_0x448220(0x1f5)](a0_0x448220(0x193),async(_0x467ec8,_0xea5441)=>{const _0x4534cd=a0_0x448220;try{const {id:_0x348fb5,branchid:_0x40b365,destructedby:_0x22de33,mode:_0x1f7919}=_0x467ec8[_0x4534cd(0x1b7)],_0x14dd18=_0x4534cd(0x1ed)+_0x348fb5+_0x4534cd(0x202)+_0x40b365+'\x27,\x27'+_0x22de33+_0x4534cd(0x202)+_0x1f7919+'\x27',_0x3d7b82=await db[_0x4534cd(0x204)](_0x14dd18);_0xea5441[_0x4534cd(0x233)](0xc8)[_0x4534cd(0x1a3)](_0x3d7b82[_0x4534cd(0x230)]);}catch(_0x39b78d){logErrorToFile(_0x39b78d),console[_0x4534cd(0x1d6)](_0x39b78d);}}),server[a0_0x448220(0x1c7)](a0_0x448220(0x193),async(_0x1c6195,_0x5d7c31)=>{const _0x53e651=a0_0x448220;try{const _0x4743e9=_0x1c6195[_0x53e651(0x1b7)];let _0x2987fd=0x0;for(const _0x474ad0 of _0x4743e9){const _0x5907b3=_0x53e651(0x1ed)+_0x474ad0['id']+_0x53e651(0x231)+_0x474ad0['destructedby']+_0x53e651(0x202)+_0x474ad0[_0x53e651(0x22c)]+'\x27',_0x258121=await db[_0x53e651(0x204)](_0x5907b3);_0x258121[_0x53e651(0x1ab)]&&_0x2987fd++;}_0x5d7c31[_0x53e651(0x233)](0xc8)[_0x53e651(0x1f3)]({'count':_0x2987fd});}catch(_0x2224ec){logErrorToFile(_0x2224ec),console[_0x53e651(0x1d6)](_0x2224ec);}}),server[a0_0x448220(0x1f5)](a0_0x448220(0x1c6),async(_0x273a40,_0x5b9259)=>{const _0x54b96e=a0_0x448220;try{const {id:_0x3e5647,mood:_0x28ae23,branchid:_0xfd27fb}=_0x273a40[_0x54b96e(0x1b7)],_0x5afd44='exec\x20dbo.sp_Notification\x20\x27'+_0x3e5647+_0x54b96e(0x202)+_0x28ae23+'\x27,\x27'+_0xfd27fb+'\x27',_0x294b28=await db[_0x54b96e(0x204)](_0x5afd44),_0x3ddd5b=_0x294b28[_0x54b96e(0x248)][0x0][0x0]['loginAttemptCount'],_0xcecb0b=_0x294b28[_0x54b96e(0x248)][0x1];_0x5b9259[_0x54b96e(0x233)](0xc8)[_0x54b96e(0x1f3)]({'count':_0x3ddd5b,'PasswordAlertData':_0xcecb0b});}catch(_0x557289){logErrorToFile(_0x557289),console[_0x54b96e(0x1d6)](_0x557289);}}),server[a0_0x448220(0x1f5)]('/DashboradDatas',async(_0xbc495d,_0x2f87f3)=>{const _0x1d5a04=a0_0x448220;try{const {branchid:_0x3d995e}=_0xbc495d[_0x1d5a04(0x204)],_0x25d42c=_0x1d5a04(0x251)+_0x3d995e+'\x27',_0x327c13=await db[_0x1d5a04(0x204)](_0x25d42c),_0x144162=_0x327c13[_0x1d5a04(0x248)][0x0][0x0],_0x38e99=_0x327c13['recordsets'][0x1][0x0],_0x42de4c=_0x327c13['recordsets'][0x2][0x0],_0xe6df2=_0x327c13[_0x1d5a04(0x248)][0x3][0x0],_0x3e01e0=_0x327c13[_0x1d5a04(0x248)][0x4][0x0],_0x10b864=_0x327c13[_0x1d5a04(0x248)][0x5];_0x2f87f3['status'](0xc8)[_0x1d5a04(0x1f3)]({'Topcard':_0x144162,'firstCardChart':_0x38e99,'SecondCardChart':_0x42de4c,'ThirdCardChart':_0xe6df2,'FourthCardChart':_0x3e01e0,'AuthorizedgridData':_0x10b864});}catch(_0x41532f){logErrorToFile(_0x41532f),console[_0x1d5a04(0x1d6)](_0x41532f),_0x2f87f3[_0x1d5a04(0x233)](0x1f4)[_0x1d5a04(0x1f3)]({'error':_0x1d5a04(0x256)});}}),server[a0_0x448220(0x1f5)](a0_0x448220(0x1c8),async(_0x3f668d,_0x52b8fc)=>{const _0x555a85=a0_0x448220;try{const {mood:_0x2f779d,branchid:_0x1f1654}=_0x3f668d['body'],_0xd24864=_0x555a85(0x1b0)+_0x2f779d+'\x27,'+_0x1f1654;console[_0x555a85(0x1d6)](_0xd24864);const _0x5925c1=await db['query'](_0xd24864);_0x52b8fc[_0x555a85(0x233)](0xc8)[_0x555a85(0x1a3)](_0x5925c1['recordset']);}catch(_0x4bbb42){logErrorToFile(_0x4bbb42),console[_0x555a85(0x1d6)](_0x4bbb42);}}),server[a0_0x448220(0x1f5)]('/BranchMaster',async(_0x355758,_0x4e6429)=>{const _0x41b211=a0_0x448220;try{const {id:_0x6d5462,branchName:_0x382f59,createdby:_0x1d95d8,updateby:_0x4289ca,mood:_0x1bd510}=_0x355758[_0x41b211(0x1b7)],_0x2cc6ed=_0x41b211(0x1ad)+_0x6d5462+_0x41b211(0x202)+_0x382f59+'\x27,\x27'+_0x1d95d8+_0x41b211(0x202)+_0x4289ca+_0x41b211(0x202)+_0x1bd510+'\x27',_0x1a84c2=await db[_0x41b211(0x204)](_0x2cc6ed);_0x4e6429[_0x41b211(0x233)](0xc8)[_0x41b211(0x1a3)](_0x1a84c2['recordset']);}catch(_0x46b607){logErrorToFile(_0x46b607),console[_0x41b211(0x1d6)](_0x46b607);}}),server[a0_0x448220(0x1f5)](a0_0x448220(0x244),async(_0x34a6d3,_0x1e2ae4)=>{const _0x17af5b=a0_0x448220;try{const {id:_0x5200fe,frommail:_0x585bf7,apppassword:_0x50d9f5,ServiceName:_0x1ec67d,HostName:_0x2da137,PortNumber:_0x1f557e,createdby:_0xfe7f0,updateby:_0x3a856f,branchid:_0x333fc0,mode:_0x15c286}=_0x34a6d3[_0x17af5b(0x1b7)],_0x1bdf18=_0x17af5b(0x23e)+_0x5200fe+_0x17af5b(0x202)+_0x585bf7+_0x17af5b(0x202)+_0x50d9f5+_0x17af5b(0x202)+_0x1ec67d+_0x17af5b(0x202)+_0x2da137+_0x17af5b(0x202)+_0x1f557e+_0x17af5b(0x202)+_0xfe7f0+_0x17af5b(0x202)+_0x3a856f+_0x17af5b(0x202)+_0x333fc0+_0x17af5b(0x202)+_0x15c286+'\x27';console[_0x17af5b(0x1d6)](_0x1bdf18);const _0xb9782e=await db['query'](_0x1bdf18);_0x1e2ae4[_0x17af5b(0x233)](0xc8)[_0x17af5b(0x1a3)](_0xb9782e['recordset']);}catch(_0x19d967){logErrorToFile(_0x19d967),console['log'](_0x19d967);}}),server[a0_0x448220(0x1f5)](a0_0x448220(0x24f),async(_0x3a0807,_0x29b027)=>{const _0x47f575=a0_0x448220;try{const {id:_0x578b2a,passwordexpireday:_0x1f2489,autologouttime:_0x5544bd,createdby:_0x4bc67e,branchid:_0x51d21e,mode:_0x548879}=_0x3a0807[_0x47f575(0x1b7)],_0x2364be=_0x47f575(0x220)+_0x578b2a+_0x47f575(0x202)+_0x1f2489+_0x47f575(0x202)+_0x5544bd+_0x47f575(0x202)+_0x4bc67e+_0x47f575(0x202)+_0x51d21e+_0x47f575(0x202)+_0x548879+'\x27',_0x3f7cb0=await db[_0x47f575(0x204)](_0x2364be);_0x29b027['status'](0xc8)['send'](_0x3f7cb0[_0x47f575(0x230)]);}catch(_0x2bc941){logErrorToFile(_0x2bc941),console[_0x47f575(0x1d6)](_0x2bc941);}}),server[a0_0x448220(0x1f5)](a0_0x448220(0x1dd),async(_0x165ce8,_0x2534a8)=>{const _0x34bd30=a0_0x448220;try{const {fromDate:_0x300497,toDate:_0x2ea567,status:_0x1c0f95,mode:_0x26313b,branchid:_0x532c44,VehicleStatus:_0x1d8489}=_0x165ce8[_0x34bd30(0x1b7)],_0x2c6fd7=_0x34bd30(0x22f)+_0x300497+_0x34bd30(0x202)+_0x2ea567+_0x34bd30(0x202)+_0x1c0f95+_0x34bd30(0x202)+_0x26313b+_0x34bd30(0x202)+_0x532c44+_0x34bd30(0x202)+_0x1d8489+'\x27';console[_0x34bd30(0x1d6)](_0x2c6fd7);const _0x44146c=await db['query'](_0x2c6fd7);_0x2534a8[_0x34bd30(0x233)](0xc8)['send'](_0x44146c[_0x34bd30(0x230)]);}catch(_0x2073e7){logErrorToFile(_0x2073e7),console[_0x34bd30(0x1d6)](_0x2073e7);}}),server['post']('/DocumentDesctructionReport',async(_0x508e3c,_0x8bbac6)=>{const _0x230de4=a0_0x448220;try{const {fromDate:_0x44f52e,toDate:_0x22e540,mode:_0x3f772d,branchid:_0x2acb3e}=_0x508e3c[_0x230de4(0x1b7)],_0x24b467=_0x230de4(0x17a)+_0x44f52e+_0x230de4(0x202)+_0x22e540+_0x230de4(0x202)+_0x3f772d+_0x230de4(0x202)+_0x2acb3e+'\x27';console[_0x230de4(0x1d6)](_0x24b467);const _0xde085b=await db[_0x230de4(0x204)](_0x24b467);_0x8bbac6[_0x230de4(0x233)](0xc8)[_0x230de4(0x1a3)](_0xde085b[_0x230de4(0x230)]);}catch(_0x3fbe97){logErrorToFile(_0x3fbe97),console[_0x230de4(0x1d6)](_0x3fbe97);}}),server['post'](a0_0x448220(0x196),async(_0x5ec09c,_0x364182)=>{const _0x44cfec=a0_0x448220;try{const {branchid:_0x2f1da1,fromDate:_0x5936fd,toDate:_0x4c79b4,mode:_0x20386f,VehicleStatus:_0x3b213b}=_0x5ec09c[_0x44cfec(0x1b7)],_0x1b08e0=_0x44cfec(0x206)+_0x5936fd+_0x44cfec(0x202)+_0x4c79b4+_0x44cfec(0x202)+_0x20386f+_0x44cfec(0x202)+_0x2f1da1+'\x27,\x27'+_0x3b213b+'\x27',_0xdb408b=await db[_0x44cfec(0x204)](_0x1b08e0);_0x364182[_0x44cfec(0x233)](0xc8)[_0x44cfec(0x1a3)](_0xdb408b['recordset']);}catch(_0xa3e88f){logErrorToFile(_0xa3e88f),console[_0x44cfec(0x1d6)](_0xa3e88f);}});function logErrorToFile(_0x5bdb45){const _0x17d769=a0_0x448220,_0x4a3270=new Date()[_0x17d769(0x24b)](),_0x2cbb36='['+_0x4a3270+']\x20'+_0x5bdb45+'\x0a',_0x331121=path[_0x17d769(0x21f)](__dirname,_0x17d769(0x1d6));!fs['existsSync'](_0x331121)&&fs[_0x17d769(0x20b)](_0x331121);const _0x9fd1fb=path[_0x17d769(0x21f)](_0x331121,'error.txt');fs[_0x17d769(0x1d5)](_0x9fd1fb,_0x2cbb36,_0x339bd3=>{const _0x361827=_0x17d769;_0x339bd3&&console['error'](_0x361827(0x217),_0x339bd3);});}server['listen'](PORT,()=>{const _0x19f86e=a0_0x448220;console[_0x19f86e(0x1d6)](_0x19f86e(0x197)+PORT);});